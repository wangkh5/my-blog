<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">

    <link rel="stylesheet" href="../lib/bootstrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../lib/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet" href="../lib/adminLTE/css/skins/_all-skins.min.css">

    <script src="../lib/jquery/jquery.js"></script>
    <script src="../lib/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script src="../lib/adminLTE/js/app.min.js"></script>

    <!--引入markdown编辑器的js-->
    <script src="../lib/editor.md/editormd.min.js"></script>
    <link rel="stylesheet" href="../lib/editor.md/css/editormd.min.css">

    <!-- 引入angular的js -->
    <script type="text/javascript" src="../lib/angularjs/angular.min.js"></script>
    <script src="../js/base.js"></script>
    <script src="../js/service/categoryService.js"></script>
    <script src="../js/service/blogService.js"></script>
    <script src="../js/controller/baseController.js"></script>
    <script src="../js/controller/blogController.js"></script>

    <script type="text/javascript">
        <!--editormd不支持angular的数据绑定，定义editormd全局变量获取输入的内容-->
        var blogEditormd;

        <!--markdown编辑器初始化配置-->
        $(function() {
            blogEditormd = editormd("content-editormd", {
            width    : "100%",
            //                autoHeight : true,
            height:500,
            syncScrolling : "single",
            path    : "/lib/editor.md/lib/",
    //        saveHTMLToTextarea : true, // 保存HTML到Textarea
            emoji: true,//emoji表情，默认关闭ss
            });
        });

    </script>

</head>
<body ng-app="blog" ng-controller="blogController" ng-init="findAllCategory();findOne()" >

<div>
    <div class="box-header with-border">
        <h3 class="box-title">编辑博文</h3>
    </div>
    <!-- /.box-header -->
    <!-- form start -->
    <form role="form-horizontal">
        <!-- /.box-body -->
        <div class="box-body">
            <div class="form-group row">
                <label for="title"  class="col-sm-1 control-label text-right">标题</label>
                <div class="col-sm-11">
                    <input type="text" ng-model="entity.title" class="form-control" id="title" placeholder="请输入标题">
                </div>
            </div>

            <div class="form-group row">
                <label class="col-sm-1 control-label text-right">所属分类</label>
                <div class="col-sm-11">
                    <select class="form-control" ng-model="entity.categoryId">
                        <option ng-repeat="category in categoryList" value="{{category.id}}" >
                            {{category.name}}
                        </option>
                    </select>
                </div>
            </div>

            <!--markdown编辑器-->
            <div id="content-editormd" class="form-group">
                <!--textarea标签中间不能有换行会有乱码-->
                <textarea style="display:none;" class="form-control" id="content-editormd-markdown-doc"
                          name="content-editormd-markdown-doc">{{entity.content}}</textarea>
            </div>
        </div>
        <div class="box-footer">
            <button type="submit" class="btn btn-primary pull-right" id="saveBlog" ng-click="add()">发表</button>
        </div>
    </form>
</div>
</body>
</html>